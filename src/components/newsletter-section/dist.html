{% set hex_color = widget.audience %} {% set section_width = 'width: 100%;' %}

<style>
    table.newsletter-section a {
    		color: {{ hex_color }} !important;
    	}
</style>

{% macro print_article_info(article_title, article_blurb, article_url) %} {% if article_title %}
<table class="row article" style="border-collapse: collapse; border-spacing: 0; padding: 0; position: relative; text-align: left; vertical-align: top; width: 100%;">
    <tbody>
        <tr style="padding: 0; text-align: left; vertical-align: top;">
            <td style="padding-bottom: .5em; padding-top: .5em;">
                <table class="row" style="border-collapse: collapse; border-spacing: 0; padding: 0; position: relative; text-align: left; vertical-align: top; width: 100%;">
                    <tbody>
                        <tr style="padding: 0; text-align: left; vertical-align: top;">
                            <td>
                                {% if article_url %}
                                <a href="{{ article_url }}" style="Margin: 0; color: #4C4C4C; display: block; font-family: 'Source Sans Pro', Tahoma, 'Trebuchet MS', sans-serif; font-weight: normal; line-height: 1.3; margin: 0; padding: 0; text-align: left; text-decoration: none;">
                                    <h2 class="no-margin-vertical no-padding" style="Margin: 0; color: #4C4C4C; font-family: 'Source Sans Pro', Tahoma, 'Trebuchet MS', sans-serif; font-size: 24px; font-weight: normal; line-height: 30px; margin: 0; margin-bottom: 0; margin-top: 0; padding: 0; text-align: left; word-wrap: normal;">{{ article_title }}</h2>
                                </a>
                                {% else %}
                                <h2 class="no-margin-vertical no-padding" style="Margin: 0; color: #4C4C4C; font-family: 'Source Sans Pro', Tahoma, 'Trebuchet MS', sans-serif; font-size: 24px; font-weight: normal; line-height: 30px; margin: 0; margin-bottom: 0; margin-top: 0; padding: 0; text-align: left; word-wrap: normal;">{{ article_title }}</h2>
                                {% endif %}
                            </td>
                        </tr>
                    </tbody>
                </table>

                {% if article_blurb %}
                <table class="row" style="border-collapse: collapse; border-spacing: 0; padding: 0; position: relative; text-align: left; vertical-align: top; width: 100%;">
                    <tbody>
                        <tr style="padding: 0; text-align: left; vertical-align: top;">
                            <td>
                                <p style="Margin: 0; color: #4C4C4C; font-family: 'Source Sans Pro', Tahoma, 'Trebuchet MS', sans-serif; font-size: 18px; font-weight: 300; line-height: 26px; margin: 0; padding: 0; text-align: left;">{{ article_blurb }}</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
                {% endif %}
            </td>
        </tr>
    </tbody>
</table>

<script type="application/ld+json">
    {
    				"@context": "http://schema.org",
    				"@type": "Article",
    				"name": "{{ article_title }}",
    				"url": "{{article_url }}",
    				"description": "{{ article_blurb }}",
    				"publisher": {
    					"@type": "Organization",
    					"name": "Liferay"
    				}
    			}
</script>
{% endif %} {% endmacro %}

<table class="newsletter-section" style="border-collapse: collapse; border-spacing: 0; padding: 0; text-align: left; vertical-align: top;">
    <tbody>
        <tr style="padding: 0; text-align: left; vertical-align: top;">
            {% if widget.section_image.src %} {% set section_width = 'width: 70%;' %}

            <td class="standard-padding" style="padding: 1em; width: 30%;">
                <center data-parsed="" style="min-width: 0; width: 100%;">
                    <img alt="{{ widget.section_image.alt }}" class="small-padding float-center" height="auto" src="{{ widget.section_image.src }}" style="-ms-interpolation-mode: bicubic; Margin: 0 auto; box-sizing: border-box; clear: both; display: block; float: none; margin: 0 auto; max-width: 100%; outline: none; padding: 0.5em; text-align: center; text-decoration: none; width: 100%;"
                    align="center">
                </center>
            </td>
            {% endif %}

            <td style="{{ section_width }}">
                <table class="row" style="border-collapse: collapse; border-spacing: 0; padding: 0; position: relative; text-align: left; vertical-align: top; width: 100%;">
                    <tbody>
                        <tr style="padding: 0; text-align: left; vertical-align: top;">
                            <td class="standard-padding" style="Margin: 0; box-sizing: border-box; color: #4C4C4C; font-family: 'Source Sans Pro', Tahoma, 'Trebuchet MS', sans-serif; font-size: 16px; font-weight: normal; line-height: 1.3; margin: 0; padding: 1em; text-align: left; vertical-align: top;">
                                <table class="row" style="border-collapse: collapse; border-spacing: 0; padding: 0; position: relative; text-align: left; vertical-align: top; width: 100%;">
                                    <tbody>
                                        <tr style="padding: 0; text-align: left; vertical-align: top;">
                                            <td style="Margin: 0; color: #4C4C4C; font-family: 'Source Sans Pro', Tahoma, 'Trebuchet MS', sans-serif; font-size: 16px; font-weight: normal; line-height: 1.3; margin: 0; padding: 0; text-align: left; vertical-align: top;">
                                                <h3 class="small-caps" style="Margin: 0; color: #909295; font-family: 'Source Sans Pro', Tahoma, 'Trebuchet MS', sans-serif; font-size: 14px; font-weight: 600; letter-spacing: 1px; line-height: 30px; margin: 0; padding: 0.3em 0; text-align: left; text-transform: uppercase; word-wrap: normal;">{{ widget.section_title }}</h3>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>

                                {{ print_article_info(widget.article_title1, widget.article_blurb1, widget.article_url1) }} {{ print_article_info(widget.article_title2, widget.article_blurb2, widget.article_url2) }} {{ print_article_info(widget.article_title3, widget.article_blurb3,
                                widget.article_url3) }} {{ print_article_info(widget.article_title4, widget.article_blurb4, widget.article_url4) }} {{ print_article_info(widget.article_title5, widget.article_blurb5, widget.article_url5) }}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </td>
        </tr>
    </tbody>
</table>

